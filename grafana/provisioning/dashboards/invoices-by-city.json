{
  "id": null,
  "uid": "invoices-by-city",
  "title": "Totales por Ciudad (Kafka Stream Aggregates)",
  "tags": ["kafka", "invoices", "city"],
  "timezone": "browser",
  "schemaVersion": 38,
  "version": 1,
  "refresh": "10s",
  "panels": [
    {
      "type": "barchart",
      "title": "Totales de Facturaci√≥n por Ciudad",
      "datasource": {
        "type": "postgres",
        "uid": "invoices-general"
      },
      "targets": [
        {
          "refId": "A",
          "format": "table",
          "rawSql": "SELECT city_code AS \"Ciudad\", total_amount AS \"Total Facturado\" FROM city_totals ORDER BY total_amount DESC;"
        }
      ],
      "fieldConfig": {
        "defaults": {
          "unit": "currencyUSD",
          "color": { "mode": "palette-classic" },
          "custom": {
            "drawStyle": "bars",
            "barAlignment": 0,
            "fillOpacity": 80,
            "showPoints": "never",
            "gradientMode": "none"
          }
        }
      },
      "options": {
        "orientation": "horizontal",
        "legend": { "showLegend": false },
        "tooltip": { "mode": "single" },
        "xField": "Ciudad",
        "yField": "Total Facturado"
      },
      "gridPos": { "h": 12, "w": 24, "x": 0, "y": 0 }
    }
  ]
}
