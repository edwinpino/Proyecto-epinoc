{
  "id": null,
  "uid": "invoices-general",
  "title": "Total por Cliente (Kafka Invoice Aggregates)",
  "tags": ["kafka", "invoice", "demo"],
  "timezone": "browser",
  "schemaVersion": 38,
  "version": 1,
  "refresh": "10s",
  "panels": [
    {
      "type": "barchart",
      "title": "Acumulado de Amount por Customer",
      "datasource": {
        "type": "postgres",
        "uid": "invoices-general"
      },
      "targets": [
        {
          "refId": "A",
          "format": "table",
          "rawSql": "SELECT customer_id AS \"Customer\", COALESCE(SUM(amount),0) AS \"Total Amount\" FROM invoice GROUP BY customer_id ORDER BY SUM(amount) DESC;"
        }
      ],
      "fieldConfig": {
        "defaults": {
          "unit": "currencyUSD",
          "color": { "mode": "palette-classic" },
          "custom": {
            "drawStyle": "bars",
            "barAlignment": 0,
            "fillOpacity": 80,
            "showPoints": "never",
            "gradientMode": "none"
          }
        },
        "overrides": []
      },
      "options": {
        "orientation": "horizontal",
        "legend": { "showLegend": false },
        "tooltip": { "mode": "single" },
        "xField": "Customer",
        "yField": "Total Amount"
      },
      "gridPos": { "h": 12, "w": 24, "x": 0, "y": 0 }
    }
  ]
}
